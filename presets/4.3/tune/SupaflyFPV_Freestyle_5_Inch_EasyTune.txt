#$ TITLE: SupaflyFPV Freestyle 5 Inch
#$ FIRMWARE_VERSION: 4.3
#$ CATEGORY: TUNE
#$ STATUS: OFFICIAL
#$ KEYWORDS: Supafly, SupaflyFPV, 4S, 6S, Freestyle, 5 inch, 5"
#$ AUTHOR: SupaflyFPV

#$ PARSER: MARKED

#$ DESCRIPTION: [<img src="https://supaflyfpv.com/wp-content/uploads/2022/06/Logo-Cropped192.svg" width="220px" style="margin-left: auto; margin-right: auto; display: block;"/>](https://supaflyfpv.com/betaflight-setup/)
#$ DESCRIPTION:
#$ DESCRIPTION: <br>
#$ DESCRIPTION:
#$ DESCRIPTION: ### SupaflyFPV 5 Inch Freestyle Preset
#$ DESCRIPTION:
#$ DESCRIPTION: <br>
#$ DESCRIPTION:
#$ DESCRIPTION: #### New Higher Performance! Pick your options from the drop-down:
#$ DESCRIPTION:
#$ DESCRIPTION: <br>
#$ DESCRIPTION:
#$ DESCRIPTION: * RC Link Option for fast or cinematic response
#$ DESCRIPTION: * RPM Filtering recommended on Blheli32 esc or de-select if esc is Blheli-S
#$ DESCRIPTION: * Apply 'Rough Motors' option if your motors or frame are old/beat up.
#$ DESCRIPTION: * Pick broad PIDs option for 4s or 6s....
#$ DESCRIPTION: * For further optimisation to your motor kv [use this custom PID calculator](https://supaflyfpv.com/betaflight-setup/)
#$ DESCRIPTION: 
#$ DESCRIPTION: <br>
#$ DESCRIPTION:
#$ DESCRIPTION: Enjoy!
#$ DESCRIPTION:
#$ DESCRIPTION: <br>
#$ DESCRIPTION:
#$ DESCRIPTION: Support, feedback and chilling:
#$ DESCRIPTION:
#$ DESCRIPTION: <br>
#$ DESCRIPTION:
#$ DESCRIPTION:*[FACEBOOK SUPPORT/FEEDBACK](https://www.facebook.com/groups/supaflyfpv/)
#$ DESCRIPTION:
#$ DESCRIPTION: <br>
#$ DESCRIPTION:
#$ DESCRIPTION:*[DISCORD SUPPORT/FEEDBACK](https://discord.gg/jtCePA9W)
#$ DESCRIPTION:
#$ DESCRIPTION: <br>
#$ DESCRIPTION: 
#$ INCLUDE_WARNING: misc/warnings/en/rpm_filters.txt
#$ INCLUDE: presets/4.3/tune/defaults.txt
#$ INCLUDE: presets/4.3/filters/defaults.txt

# -- Logging --

set blackbox_sample_rate = 1/4
set debug_mode = GYRO_SCALED

# -- Non-RPM Filtering --

# -- Gyro --

set dshot_bidir = OFF
set simplified_gyro_filter = OFF
set gyro_lpf1_static_hz = 0
set gyro_lpf1_dyn_min_hz = 0
set gyro_lpf1_dyn_max_hz = 0
set gyro_lpf2_static_hz = 600
set dyn_notch_count = 4
set dyn_notch_q = 400
set dyn_notch_min_hz = 100
set dyn_notch_max_hz = 800

# -- Dterm filtering --

set simplified_dterm_filter = OFF
set dterm_lpf1_dyn_min_hz = 0
set dterm_lpf1_dyn_max_hz = 0
set dterm_lpf1_dyn_expo = 0
set dterm_lpf1_static_hz = 100
set dterm_lpf2_static_hz = 150

# -- Antigravity --

set anti_gravity_gain = 4500


#$ OPTION BEGIN (UNCHECKED): Fast RC settings

set feedforward_boost = 20
set rc_smoothing_auto_factor = 25
set rc_smoothing_auto_factor_throttle = 30
set feedforward_jitter_factor = 10

#$ OPTION END 


#$ OPTION BEGIN (UNCHECKED): Cinematic RC settings

set feedforward_boost = 10
set rc_smoothing_auto_factor = 60
set rc_smoothing_auto_factor_throttle = 40
set feedforward_jitter_factor = 14

#$ OPTION END 

#$ OPTION BEGIN (CHECKED): RPM filtering

# -- Gyro filtering --

set dshot_bidir = ON
set motor_pwm_protocol = DSHOT600
set rpm_filter_harmonics = 1
set rpm_filter_q = 800
set rpm_filter_fade_range_hz = 100
set dyn_notch_count = 2
set dyn_notch_q = 400

#$ OPTION END 

#$ OPTION BEGIN (UNCHECKED): Rough/Old Motors (More Filtering)

set gyro_lpf2_static_hz = 300
set dyn_notch_q = 300
set rpm_filter_q = 500

#$ OPTION END 

#$ OPTION BEGIN (CHECKED): 4s Lipo (2400-2700kv motors)

# -- Sliders --

set simplified_master_multiplier = 130
set simplified_i_gain = 75
set simplified_d_gain = 105
set simplified_pi_gain = 110
set simplified_dmax_gain = 0
set simplified_feedforward_gain = 90
set simplified_pitch_pi_gain = 110
simplified_tuning apply

#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): 6s Lipo (1750 - 1950kv motors)

# -- Sliders --

set simplified_master_multiplier = 115
set simplified_i_gain = 75
set simplified_d_gain = 105
set simplified_pi_gain = 110
set simplified_dmax_gain = 0
set simplified_feedforward_gain = 90
set simplified_pitch_pi_gain = 120
simplified_tuning apply

#$ OPTION END